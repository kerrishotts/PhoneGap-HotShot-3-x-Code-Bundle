/**
 * almond 0.2.0 Copyright (c) 2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*!
 * Globalize
 *
 * http://github.com/jquery/globalize
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */

/*
 * Globalize Culture en-US
 *
 * http://github.com/jquery/globalize
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * This file was generated by the Globalize Culture Generator
 * Translation: bugs found in this file need to be fixed in the generator
 */

/**
    *
    * Core of YASMF-UTIL; defines the version, DOM, and localization convenience methods.
    *
    * core.js
    * @module core.js
    * @author Kerri Shotts
    * @version 0.4
    *
    * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
    * Permission is hereby granted, free of charge, to any person obtaining a copy of this
    * software and associated documentation files (the "Software"), to deal in the Software
    * without restriction, including without limitation the rights to use, copy, modify,
    * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
    * permit persons to whom the Software is furnished to do so, subject to the following
    * conditions:
    * The above copyright notice and this permission notice shall be included in all copies
    * or substantial portions of the Software.
    * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
    * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
    * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
    * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
    * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
    * OTHER DEALINGS IN THE SOFTWARE.
    */

/**
 *
 * Provides date/time convenience methods
 *
 * datetime.js
 * @module datetime.js
 * @author Kerri Shotts
 * @version 0.4
 *
 * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify,
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to the following
 * conditions:
 * The above copyright notice and this permission notice shall be included in all copies
 * or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
 * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.

 */

/**
 *
 * Provides convenience methods for parsing unix-style path names. If the
 * path separator is changed from "/" to "\", it should parse Windows paths as well.
 *
 * filename.js
 * @module filename.js
 * @author Kerri Shotts
 * @version 0.4
 * ```
 * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify,
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to the following
 * conditions:
 * The above copyright notice and this permission notice shall be included in all copies
 * or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
 * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 * ```
 */

/**
 *
 * Provides miscellaneous functions that had no other category.
 *
 * misc.js
 * @module misc.js
 * @author Kerri Shotts
 * @version 0.4
 * ```
 * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify,
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to the following
 * conditions:
 * The above copyright notice and this permission notice shall be included in all copies
 * or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
 * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 * ```
 */

/**
 *
 * Provides basic device-handling convenience functions for determining if the device
 * is an iDevice or a Droid Device, and what the orientation is.
 * 
 * device.js
 * @module device.js
 * @author Kerri Shotts
 * @version 0.4
 *
 * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this 
 * software and associated documentation files (the "Software"), to deal in the Software 
 * without restriction, including without limitation the rights to use, copy, modify, 
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to 
 * permit persons to whom the Software is furnished to do so, subject to the following 
 * conditions:
 * The above copyright notice and this permission notice shall be included in all copies 
 * or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, 
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR 
 * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE 
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT 
 * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR 
 * OTHER DEALINGS IN THE SOFTWARE.
 */

/**
 *
 * # Base Object
 *
 * ## object.js
 *
 * @module object.js
 * @author Kerri Shotts
 * @version 0.4
 * ```
 * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify,
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to the following
 * conditions:
 * The above copyright notice and this permission notice shall be included in all copies
 * or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
 * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 * ```
 */

/**
 *
 * FileManager implements methods that interact with the HTML5 API
 *
 * core.js
 * @module core.js
 * @author Kerri Shotts
 * @version 0.4
 *
 * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify,
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to the following
 * conditions:
 * The above copyright notice and this permission notice shall be included in all copies
 * or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
 * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

/**
 *
 * Core of YASMF-UI; defines the version and basic UI  convenience methods.
 *
 * core.js
 * @module core.js
 * @author Kerri Shotts
 * @version 0.4
 *
 * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify,
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to the following
 * conditions:
 * The above copyright notice and this permission notice shall be included in all copies
 * or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
 * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

/**
 *
 * Basic cross-platform mobile Event Handling for YASMF
 *
 * events.js
 * @author Kerri Shotts
 * @version 0.4
 *
 * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify,
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to the following
 * conditions:
 * The above copyright notice and this permission notice shall be included in all copies
 * or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
 * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

/**
 *
 * View Containers are simple objects that provide very basic view management with
 * a thin layer over the corresponding DOM element.
 *
 * viewContainer.js
 * @author Kerri Shotts
 * @version 0.4
 *
 * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify,
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to the following
 * conditions:
 * The above copyright notice and this permission notice shall be included in all copies
 * or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
 * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

/**
 *
 * Navigation Controllers provide basic support for view stack management (as in push, pop)
 *
 * navigationController.js
 * @author Kerri Shotts
 * @version 0.4
 *
 * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify,
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to the following
 * conditions:
 * The above copyright notice and this permission notice shall be included in all copies
 * or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
 * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

/**
 *
 * Split View Controllers provide basic support for side-by-side views
 *
 * splitViewController.js
 * @author Kerri Shotts
 * @version 0.4
 *
 * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify,
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to the following
 * conditions:
 * The above copyright notice and this permission notice shall be included in all copies
 * or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
 * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

/**
   *
   * Tab View Controllers provide basic support for tabbed views
   *
   * tabViewController.js
   * @author Kerri Shotts
   * @version 0.4
   *
   * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
   * Permission is hereby granted, free of charge, to any person obtaining a copy of this
   * software and associated documentation files (the "Software"), to deal in the Software
   * without restriction, including without limitation the rights to use, copy, modify,
   * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to the following
   * conditions:
   * The above copyright notice and this permission notice shall be included in all copies
   * or substantial portions of the Software.
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
   * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
   * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
   * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
   * OTHER DEALINGS IN THE SOFTWARE.
   */

/**
 *
 * Provides native-like alert methods, including prompts and messages.
 *
 * alert.js
 * @module alert.js
 * @author Kerri Shotts
 * @version 0.4
 *
 * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify,
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to the following
 * conditions:
 * The above copyright notice and this permission notice shall be included in all copies
 * or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
 * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

/**
 *
 * YASMF-UTIL (Yet Another Simple Mobile Framework Utilities) provides basic utilities
 * for working on mobile devices.
 *
 * It provides several convenience functions (such as _y.ge) and various modules (such
 * as device, filename, etc).
 *
 * yasmf-util.js
 * @module yasmf-util.js
 * @author Kerri Shotts
 * @version 0.4
 *
 * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify,
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to the following
 * conditions:
 * The above copyright notice and this permission notice shall be included in all copies
 * or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
 * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

!function(e,t){var n,r,t,i=e.define;!function(e){function i(e,t){var n,r,i,o,a,l,s,u,c,f,d=t&&t.split("/"),m=v.map,p=m&&m["*"]||{};if(e&&"."===e.charAt(0)&&t){for(d=d.slice(0,d.length-1),e=d.concat(e.split("/")),u=0;u<e.length;u+=1)if(f=e[u],"."===f)e.splice(u,1),u-=1;else if(".."===f){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((d||p)&&m){for(n=e.split("/"),u=n.length;u>0;u-=1){if(r=n.slice(0,u).join("/"),d)for(c=d.length;c>0;c-=1)if(i=m[d.slice(0,c).join("/")],i&&(i=i[r])){o=i,a=u;break}if(o)break;!l&&p&&p[r]&&(l=p[r],s=u)}!o&&l&&(o=l,a=s),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function o(t,n){return function(){return d.apply(e,h.call(arguments,0).concat([t,n]))}}function a(e){return function(t){return i(t,e)}}function l(e){return function(t){g[e]=t}}function s(t){if(y.hasOwnProperty(t)){var n=y[t];delete y[t],b[t]=!0,f.apply(e,n)}if(!g.hasOwnProperty(t)&&!b.hasOwnProperty(t))throw new Error("No "+t);return g[t]}function u(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function c(e){return function(){return v&&v.config&&v.config[e]||{}}}var f,d,m,p,g={},y={},v={},b={},h=[].slice;m=function(e,t){var n,r=u(e),o=r[0];return e=r[1],o&&(o=i(o,t),n=s(o)),o?e=n&&n.normalize?n.normalize(e,a(t)):i(e,t):(e=i(e,t),r=u(e),o=r[0],e=r[1],o&&(n=s(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},p={require:function(e){return o(e)},exports:function(e){var t=g[e];return"undefined"!=typeof t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:c(e)}}},f=function(t,n,r,i){var a,u,c,f,d,v,h=[];if(i=i||t,"function"==typeof r){for(n=!n.length&&r.length?["require","exports","module"]:n,d=0;d<n.length;d+=1)if(f=m(n[d],i),u=f.f,"require"===u)h[d]=p.require(t);else if("exports"===u)h[d]=p.exports(t),v=!0;else if("module"===u)a=h[d]=p.module(t);else if(g.hasOwnProperty(u)||y.hasOwnProperty(u)||b.hasOwnProperty(u))h[d]=s(u);else{if(!f.p)throw new Error(t+" missing "+u);f.p.load(f.n,o(i,!0),l(u),{}),h[d]=g[u]}c=r.apply(g[t],h),t&&(a&&a.exports!==e&&a.exports!==g[t]?g[t]=a.exports:c===e&&v||(g[t]=c))}else t&&(g[t]=r)},n=r=d=function(t,n,r,i,o){return"string"==typeof t?p[t]?p[t](n):s(m(t,n).f):(t.splice||(v=t,n.splice?(t=n,n=r,r=null):t=e),n=n||function(){},"function"==typeof r&&(r=i,i=o),i?f(e,t,n,r):setTimeout(function(){f(e,t,n,r)},15),d)},d.config=function(e){return v=e,d},t=function(e,t,n){t.splice||(n=t,t=[]),y[e]=[e,t,n]},t.amd={jQuery:!0}}(),t("../vendor/almond",function(){}),function(e,t){var n,i,o,a,l,s,u,c,f,d,m,p,g,y,v,b,h,_,w,E,C,O,T,S;n=function(e){return new n.prototype.init(e)},"undefined"!=typeof r&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=n:e.Globalize=n,n.cultures={},n.prototype={constructor:n,init:function(e){return this.cultures=n.cultures,this.cultureSelector=e,this}},n.prototype.init.prototype=n.prototype,n.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},n.cultures["default"].calendar=n.cultures["default"].calendars.standard,n.cultures.en=n.cultures["default"],n.cultureSelector="en",i=/^0x[a-f0-9]+$/i,o=/^[+\-]?infinity$/i,a=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,l=/^\s+|\s+$/g,s=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},u=function(e,t){return e.substr(e.length-t.length)===t},c=function(){var e,n,r,i,o,a,l=arguments[0]||{},s=1,u=arguments.length,p=!1;for("boolean"==typeof l&&(p=l,l=arguments[1]||{},s=2),"object"==typeof l||d(l)||(l={});u>s;s++)if(null!=(e=arguments[s]))for(n in e)r=l[n],i=e[n],l!==i&&(p&&i&&(m(i)||(o=f(i)))?(o?(o=!1,a=r&&f(r)?r:[]):a=r&&m(r)?r:{},l[n]=c(p,a,i)):i!==t&&(l[n]=i));return l},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},d=function(e){return"[object Function]"===Object.prototype.toString.call(e)},m=function(e){return"[object Object]"===Object.prototype.toString.call(e)},p=function(e,t){return 0===e.indexOf(t)},g=function(e){return(e+"").replace(l,"")},y=function(e){return isNaN(e)?0/0:Math[0>e?"ceil":"floor"](e)},v=function(e,t,n){var r;for(r=e.length;t>r;r+=1)e=n?"0"+e:e+"0";return e},b=function(e,t){for(var n=0,r=!1,i=0,o=e.length;o>i;i++){var a=e.charAt(i);switch(a){case"'":r?t.push("'"):n++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(a),r=!1}}return n},h=function(e,t){t=t||"F";var n,r=e.patterns,i=t.length;if(1===i){if(n=r[t],!n)throw"Invalid date format string '"+t+"'.";t=n}else 2===i&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},_=function(e,t,n){function r(e,t){var n,r=e+"";return t>1&&r.length<t?(n=v[t-2]+r,n.substr(n.length-t,t)):n=r}function i(){return p||g?p:(p=w.test(t),g=!0,p)}function o(e,t){if(y)return y[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}var a,l=n.calendar,s=l.convert;if(!t||!t.length||"i"===t){if(n&&n.name.length)if(s)a=_(e,l.patterns.F,n);else{var u=new Date(e.getTime()),c=C(e,l.eras);u.setFullYear(O(e,l,c)),a=u.toLocaleString()}else a=e.toString();return a}var f=l.eras,d="s"===t;t=h(l,t),a=[];var m,p,g,y,v=["0","00","000"],w=/([^d]|^)(d|dd)([^d]|$)/g,T=0,S=E();for(!d&&s&&(y=s.fromGregorian(e));;){var x=S.lastIndex,L=S.exec(t),P=t.slice(x,L?L.index:t.length);if(T+=b(P,a),!L)break;if(T%2)a.push(L[0]);else{var k=L[0],j=k.length;switch(k){case"ddd":case"dddd":var M=3===j?l.days.namesAbbr:l.days.names;a.push(M[e.getDay()]);break;case"d":case"dd":p=!0,a.push(r(o(e,2),j));break;case"MMM":case"MMMM":var A=o(e,1);a.push(l.monthsGenitive&&i()?l.monthsGenitive[3===j?"namesAbbr":"names"][A]:l.months[3===j?"namesAbbr":"names"][A]);break;case"M":case"MM":a.push(r(o(e,1)+1,j));break;case"y":case"yy":case"yyyy":A=y?y[0]:O(e,l,C(e,f),d),4>j&&(A%=100),a.push(r(A,j));break;case"h":case"hh":m=e.getHours()%12,0===m&&(m=12),a.push(r(m,j));break;case"H":case"HH":a.push(r(e.getHours(),j));break;case"m":case"mm":a.push(r(e.getMinutes(),j));break;case"s":case"ss":a.push(r(e.getSeconds(),j));break;case"t":case"tt":A=e.getHours()<12?l.AM?l.AM[0]:" ":l.PM?l.PM[0]:" ",a.push(1===j?A.charAt(0):A);break;case"f":case"ff":case"fff":a.push(r(e.getMilliseconds(),3).substr(0,j));break;case"z":case"zz":m=e.getTimezoneOffset()/60,a.push((0>=m?"+":"-")+r(Math.floor(Math.abs(m)),j));break;case"zzz":m=e.getTimezoneOffset()/60,a.push((0>=m?"+":"-")+r(Math.floor(Math.abs(m)),2)+":"+r(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":l.eras&&a.push(l.eras[C(e,f)].name);break;case"/":a.push(l["/"]);break;default:throw"Invalid date format pattern '"+k+"'."}}}return a.join("")},function(){var e;e=function(e,t,n){var r=n.groupSizes,i=r[0],o=1,a=Math.pow(10,t),l=Math.round(e*a)/a;isFinite(l)||(l=e),e=l;var s=e+"",u="",c=s.split(/e/i),f=c.length>1?parseInt(c[1],10):0;s=c[0],c=s.split("."),s=c[0],u=c.length>1?c[1]:"",f>0?(u=v(u,f,!1),s+=u.slice(0,f),u=u.substr(f)):0>f&&(f=-f,s=v(s,f+1,!0),u=s.slice(-f,s.length)+u,s=s.slice(0,-f)),u=t>0?n["."]+(u.length>t?u.slice(0,t):v(u,t)):"";for(var d=s.length-1,m=n[","],p="";d>=0;){if(0===i||i>d)return s.slice(0,d+1)+(p.length?m+p+u:u);p=s.slice(d-i+1,d+1)+(p.length?m+p:""),d-=i,o<r.length&&(i=r[o],o++)}return s.slice(0,d+1)+m+p+u},w=function(t,n,r){if(!isFinite(t))return 1/0===t?r.numberFormat.positiveInfinity:t===-1/0?r.numberFormat.negativeInfinity:r.numberFormat.NaN;if(!n||"i"===n)return r.name.length?t.toLocaleString():t.toString();n=n||"D";var i,o=r.numberFormat,a=Math.abs(t),l=-1;n.length>1&&(l=parseInt(n.slice(1),10));var s,u=n.charAt(0).toUpperCase();switch(u){case"D":i="n",a=y(a),-1!==l&&(a=v(""+a,l,!0)),0>t&&(a="-"+a);break;case"N":s=o;case"C":s=s||o.currency;case"P":s=s||o.percent,i=0>t?s.pattern[0]:s.pattern[1]||"n",-1===l&&(l=s.decimals),a=e(a*("P"===u?100:1),l,s);break;default:throw"Bad number format specifier: "+u}for(var c=/n|\$|-|%/g,f="";;){var d=c.lastIndex,m=c.exec(i);if(f+=i.slice(d,m?m.index:i.length),!m)break;switch(m[0]){case"n":f+=a;break;case"$":f+=o.currency.symbol;break;case"-":/[1-9]/.test(a)&&(f+=o["-"]);break;case"%":f+=o.percent.symbol}}return f}}(),E=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},C=function(e,t){if(!t)return 0;for(var n,r=e.getTime(),i=0,o=t.length;o>i;i++)if(n=t[i].start,null===n||r>=n)return i;return 0},O=function(e,t,n,r){var i=e.getFullYear();return!r&&t.eras&&(i-=t.eras[n].offset),i},function(){var e,t,n,r,i,o,a;e=function(e,t){if(100>t){var n=new Date,r=C(n),i=O(n,e,r),o=e.twoDigitYearMax;o="string"==typeof o?(new Date).getFullYear()%100+parseInt(o,10):o,t+=i-i%100,t>o&&(t-=100)}return t},t=function(e,t,n){var r,i=e.days,l=e._upperDays;return l||(e._upperDays=l=[a(i.names),a(i.namesAbbr),a(i.namesShort)]),t=o(t),n?(r=s(l[1],t),-1===r&&(r=s(l[2],t))):r=s(l[0],t),r},n=function(e,t,n){var r=e.months,i=e.monthsGenitive||e.months,l=e._upperMonths,u=e._upperMonthsGen;l||(e._upperMonths=l=[a(r.names),a(r.namesAbbr)],e._upperMonthsGen=u=[a(i.names),a(i.namesAbbr)]),t=o(t);var c=s(n?l[1]:l[0],t);return 0>c&&(c=s(n?u[1]:u[0],t)),c},r=function(e,t){var n=e._parseRegExp;if(n){var r=n[t];if(r)return r}else e._parseRegExp=n={};for(var i,o=h(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),a=["^"],l=[],s=0,u=0,c=E();null!==(i=c.exec(o));){var f=o.slice(s,i.index);if(s=c.lastIndex,u+=b(f,a),u%2)a.push(i[0]);else{var d,m=i[0],p=m.length;switch(m){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":d="(\\D+)";break;case"tt":case"t":d="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":d="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":d="(\\d\\d?)";break;case"zzz":d="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":d="([+-]?\\d\\d?)";break;case"/":d="(\\/)";break;default:throw"Invalid date format pattern '"+m+"'."}d&&a.push(d),l.push(i[0])}}b(o.slice(s),a),a.push("$");var g=a.join("").replace(/\s+/g,"\\s+"),y={regExp:g,groups:l};return n[t]=y},i=function(e,t,n){return t>e||e>n},o=function(e){return e.split("Â ").join(" ").toUpperCase()},a=function(e){for(var t=[],n=0,r=e.length;r>n;n++)t[n]=o(e[n]);return t},T=function(o,a,l){o=g(o);var s=l.calendar,u=r(s,a),c=new RegExp(u.regExp).exec(o);if(null===c)return null;for(var f,d=u.groups,m=null,y=null,v=null,b=null,h=null,_=0,w=0,E=0,C=0,O=null,T=!1,S=0,x=d.length;x>S;S++){var L=c[S+1];if(L){var P=d[S],k=P.length,j=parseInt(L,10);switch(P){case"dd":case"d":if(b=j,i(b,1,31))return null;break;case"MMM":case"MMMM":if(v=n(s,L,3===k),i(v,0,11))return null;break;case"M":case"MM":if(v=j-1,i(v,0,11))return null;break;case"y":case"yy":case"yyyy":if(y=4>k?e(s,j):j,i(y,0,9999))return null;break;case"h":case"hh":if(_=j,12===_&&(_=0),i(_,0,11))return null;break;case"H":case"HH":if(_=j,i(_,0,23))return null;break;case"m":case"mm":if(w=j,i(w,0,59))return null;break;case"s":case"ss":if(E=j,i(E,0,59))return null;break;case"tt":case"t":if(T=s.PM&&(L===s.PM[0]||L===s.PM[1]||L===s.PM[2]),!T&&(!s.AM||L!==s.AM[0]&&L!==s.AM[1]&&L!==s.AM[2]))return null;break;case"f":case"ff":case"fff":if(C=j*Math.pow(10,3-k),i(C,0,999))return null;break;case"ddd":case"dddd":if(h=t(s,L,3===k),i(h,0,6))return null;break;case"zzz":var M=L.split(/:/);if(2!==M.length)return null;if(f=parseInt(M[0],10),i(f,-12,13))return null;var A=parseInt(M[1],10);if(i(A,0,59))return null;O=60*f+(p(L,"-")?-A:A);break;case"z":case"zz":if(f=j,i(f,-12,13))return null;O=60*f;break;case"g":case"gg":var N=L;if(!N||!s.eras)return null;N=g(N.toLowerCase());for(var F=0,D=s.eras.length;D>F;F++)if(N===s.eras[F].name.toLowerCase()){m=F;break}if(null===m)return null}}}var R,I=new Date,V=s.convert;if(R=V?V.fromGregorian(I)[0]:I.getFullYear(),null===y?y=R:s.eras&&(y+=s.eras[m||0].offset),null===v&&(v=0),null===b&&(b=1),V){if(I=V.toGregorian(y,v,b),null===I)return null}else{if(I.setFullYear(y,v,b),I.getDate()!==b)return null;if(null!==h&&I.getDay()!==h)return null}if(T&&12>_&&(_+=12),I.setHours(_,w,E,C),null!==O){var z=I.getMinutes()-(O+I.getTimezoneOffset());I.setHours(I.getHours()+parseInt(z/60,10),z%60)}return I}}(),S=function(e,t,n){var r,i=t["-"],o=t["+"];switch(n){case"n -":i=" "+i,o=" "+o;case"n-":u(e,i)?r=["-",e.substr(0,e.length-i.length)]:u(e,o)&&(r=["+",e.substr(0,e.length-o.length)]);break;case"- n":i+=" ",o+=" ";case"-n":p(e,i)?r=["-",e.substr(i.length)]:p(e,o)&&(r=["+",e.substr(o.length)]);break;case"(n)":p(e,"(")&&u(e,")")&&(r=["-",e.substr(1,e.length-2)])}return r||["",e]},n.prototype.findClosestCulture=function(e){return n.findClosestCulture.call(this,e)},n.prototype.format=function(e,t,r){return n.format.call(this,e,t,r)},n.prototype.localize=function(e,t){return n.localize.call(this,e,t)},n.prototype.parseInt=function(e,t,r){return n.parseInt.call(this,e,t,r)},n.prototype.parseFloat=function(e,t,r){return n.parseFloat.call(this,e,t,r)},n.prototype.culture=function(e){return n.culture.call(this,e)},n.addCultureInfo=function(e,t,n){var r={},i=!1;"string"!=typeof e?(n=e,e=this.culture().name,r=this.cultures[e]):"string"!=typeof t?(n=t,i=null==this.cultures[e],r=this.cultures[e]||this.cultures["default"]):(i=!0,r=this.cultures[t]),this.cultures[e]=c(!0,{},r,n),i&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},n.findClosestCulture=function(e){var t;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];if("string"==typeof e&&(e=e.split(",")),f(e)){var n,r,i=this.cultures,o=e,a=o.length,l=[];for(r=0;a>r;r++){e=g(o[r]);var s,u=e.split(";");n=g(u[0]),1===u.length?s=1:(e=g(u[1]),0===e.indexOf("q=")?(e=e.substr(2),s=parseFloat(e),s=isNaN(s)?0:s):s=1),l.push({lang:n,pri:s})}for(l.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),r=0;a>r;r++)if(n=l[r].lang,t=i[n])return t;for(r=0;a>r;r++)for(n=l[r].lang;;){var c=n.lastIndexOf("-");if(-1===c)break;if(n=n.substr(0,c),t=i[n])return t}for(r=0;a>r;r++){n=l[r].lang;for(var d in i){var m=i[d];if(m.language==n)return m}}}else if("object"==typeof e)return e;return t||null},n.format=function(e,t,n){var r=this.findClosestCulture(n);return e instanceof Date?e=_(e,t,r):"number"==typeof e&&(e=w(e,t,r)),e},n.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures["default"].messages[e]},n.parseDate=function(e,t,n){n=this.findClosestCulture(n);var r,i,o;if(t){if("string"==typeof t&&(t=[t]),t.length)for(var a=0,l=t.length;l>a;a++){var s=t[a];if(s&&(r=T(e,s,n)))break}}else{o=n.calendar.patterns;for(i in o)if(r=T(e,o[i],n))break}return r||null},n.parseInt=function(e,t,r){return y(n.parseFloat(e,t,r))},n.parseFloat=function(e,t,n){"number"!=typeof t&&(n=t,t=10);var r=this.findClosestCulture(n),l=0/0,s=r.numberFormat;if(e.indexOf(r.numberFormat.currency.symbol)>-1&&(e=e.replace(r.numberFormat.currency.symbol,""),e=e.replace(r.numberFormat.currency["."],r.numberFormat["."])),e=g(e),o.test(e))l=parseFloat(e);else if(!t&&i.test(e))l=parseInt(e,16);else{var u=S(e,s,s.pattern[0]),c=u[0],f=u[1];""===c&&"(n)"!==s.pattern[0]&&(u=S(e,s,"(n)"),c=u[0],f=u[1]),""===c&&"-n"!==s.pattern[0]&&(u=S(e,s,"-n"),c=u[0],f=u[1]),c=c||"+";var d,m,p=f.indexOf("e");0>p&&(p=f.indexOf("E")),0>p?(m=f,d=null):(m=f.substr(0,p),d=f.substr(p+1));var y,v,b=s["."],h=m.indexOf(b);0>h?(y=m,v=null):(y=m.substr(0,h),v=m.substr(h+b.length));var _=s[","];y=y.split(_).join("");var w=_.replace(/\u00A0/g," ");_!==w&&(y=y.split(w).join(""));var E=c+y;if(null!==v&&(E+="."+v),null!==d){var C=S(d,s,"-n");E+="e"+(C[0]||"+")+C[1]}a.test(E)&&(l=parseFloat(E))}return l},n.culture=function(e){return"undefined"!=typeof e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures["default"]}}(this),t("globalize",function(){}),function(e){var t;t="undefined"!=typeof r&&"undefined"!=typeof exports&&"undefined"!=typeof module?r("globalize"):e.Globalize,t.addCultureInfo("en-US","default",{name:"en-US",englishName:"English (United States)"})}(this),t("cultures/globalize.culture.en-US",function(){}),t("yasmf/util/core",["globalize","cultures/globalize.culture.en-US"],function(){var e={VERSION:"0.4.100",ge:function(e){return document.getElementById(e)},qs:function(e){return document.querySelector(e)},gac:function(e){return Array.prototype.slice.call(document.querySelectorAll(e))},qsa:function(e){return Array.prototype.slice.call(document.querySelectorAll(e))},gsc:function(e,t){var n=window.getComputedStyle(e);return"undefined"!=typeof t?n.getPropertyValue(t):n},template:function(e,t){var n=e.innerHTML||e;for(var r in t)if(t.hasOwnProperty(r))for(var i="%"+r.toUpperCase()+"%";n.indexOf(i)>-1;)n=n.replace(i,t[r]);return n},underCordova:!1,executeWhenReady:function(t){var n=!1;document.addEventListener("deviceready",function(){n||(n=!0,e.underCordova=!0,"function"==typeof t&&t())},!1),setTimeout(function(){n||(n=!0,e.underCordova=!1,"function"==typeof t&&t())},1e3)},currentUserLocale:"",localizedText:{},normalizeLocale:function(e){var t=e;if(t.length<2)throw new Error("Fatal: invalid locale; not of the format la-RE.");var n=t.substr(0,2).toLowerCase(),r=t.substr(-2).toUpperCase();return t.length<4&&(r=""),t=""!==r?n+"-"+r:n},setGlobalizationLocale:function(t){var n=e.normalizeLocale(t);Globalize.culture(n)},addTranslation:function(t,n,r){var i=e,o=i.normalizeLocale(t).toUpperCase();"undefined"==typeof i.localizedText[o]&&(i.localizedText[o]={}),i.localizedText[o][n.toUpperCase()]=r},addTranslations:function(t){var n=e;for(var r in t)if(t.hasOwnProperty(r))for(var i in t[r])t[r].hasOwnProperty(i)&&n.addTranslation(i,r,t[r][i])},getUserLocale:function(){var t=e;if(t.currentUserLocale)return t.currentUserLocale;var n="unknown";"undefined"!=typeof device&&(n=device.platform);var r="en-US";if("Android"==n){var i=navigator.userAgent,o=i.match(/Android.*([a-zA-Z]{2}-[a-zA-Z]{2})/);o&&(r=o[1])}else r=navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage;return t.currentUserLocale=t.normalizeLocale(r),t.currentUserLocale},getDeviceLocale:function(t){var n=e;return"undefined"!=typeof navigator.globalization&&"undefined"!=typeof navigator.globalization.getLocaleName?(navigator.globalization.getLocaleName(function(e){n.currentUserLocale=n.normalizeLocale(e.value),"function"==typeof t&&t()},function(){console.log("WARN: Couldn't get user locale from device."),"function"==typeof t&&t()}),void 0):("function"==typeof t&&t(),void 0)},lookupTranslation:function(t,n){var r=e,i=t.toUpperCase(),o=n||r.getUserLocale();return o=r.normalizeLocale(o).toUpperCase(),"undefined"!=typeof r.localizedText[o]&&"undefined"!=typeof r.localizedText[o][i]?r.localizedText[o][i]:void 0},localeOfLastResort:"en-US",languageOfLastResort:"en",T:function(t,n,r){var i,o=e,a=r||o.getUserLocale();return"undefined"==typeof(i=o.lookupTranslation(t,a))&&(a=a.substr(0,2),"undefined"==typeof(i=o.lookupTranslation(t,a))&&"undefined"==typeof(i=o.lookupTranslation(t,o.languageOfLastResort))&&"undefined"==typeof(i=o.lookupTranslation(t,o.localeOfLastResort))&&(i=t)),o.template(i,n)},N:function(t,n,r){var i=e,o="n"+("undefined"==typeof n?"0":n),a=r||i.getUserLocale();return i.setGlobalizationLocale(a),Globalize.format(t,o)},C:function(t,n,r){var i=e,o="c"+("undefined"==typeof n?"2":n),a=r||i.getUserLocale();return i.setGlobalizationLocale(a),Globalize.format(t,o)},PCT:function(t,n,r){var i=e,o="p"+("undefined"==typeof n?"2":n),a=r||i.getUserLocale();return i.setGlobalizationLocale(a),Globalize.format(t,o)},D:function(t,n,r){var i=e,o=n||"d",a=r||i.getUserLocale();return i.setGlobalizationLocale(a),Globalize.format(t,o)},format:function(t,n,r){var i=e,o=n,a=r||i.getUserLocale();return i.setGlobalizationLocale(a),Globalize.format(t,o)}};return e}),t("yasmf/util/datetime",[],function(){return{getUnixTime:function(){return(new Date).getTime()}}}),t("yasmf/util/filename",[],function(){var e={version:"00.04.100",invalidCharacters:"/,\\,:,|,<,>,*,?,;,%".split(","),extensionSeparator:".",pathSeparator:"/",replacementCharacter:"-",makeValid:function(t){for(var n=e,r=t,i=0;i<n.invalidCharacters.length;i++)for(var o=0;r.indexOf(n.invalidCharacters[i])>-1&&o++<50;)r=r.replace(n.invalidCharacters[i],n.replacementCharacter);return r},getFilePart:function(t){var n=e,r=t.lastIndexOf(n.pathSeparator);return 0>r?t:t.substr(r+1,t.length-r)},getPathPart:function(t){var n=e,r=t.lastIndexOf(n.pathSeparator);return 0>r?"":t.substr(0,r+1)},getFileNamePart:function(t){var n=e,r=n.getFilePart(t),i=r.lastIndexOf(n.extensionSeparator);return 0>i?r:r.substr(0,i)},getFileExtensionPart:function(t){var n=e,r=n.getFilePart(t),i=r.lastIndexOf(n.extensionSeparator);return 0>i?"":r.substr(i+1,r.length-i-1)}};return e}),t("yasmf/util/misc",[],function(){return{makeFauxUUID:function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=0|(e+16*Math.random())%16;return e=Math.floor(e/16),("x"==t?n:8|7&n).toString(16)});return t}}}),t("yasmf/util/device",[],function(){var e={version:"0.4.100",platformOverride:!1,formFactorOverride:!1,platform:function(){if(e.platformOverride)return e.platformOverride.toLowerCase();if("undefined"==typeof device||!device.platform)return"iPad"==navigator.platform||"iPad Simulator"==navigator.platform||"iPhone"==navigator.platform||"iPhone Simulator"==navigator.platform||"iPod"==navigator.platform?"ios":navigator.userAgent.toLowerCase().indexOf("android")>-1?"android":navigator.platform.indexOf(!1)?"mac":navigator.platform.indexOf(!1)?"windows":navigator.platform.indexOf(!1)?"linux":"unknown";var t=device.platform.toLowerCase();return(t.indexOf("ipad")>-1||t.indexOf("iphone")>-1)&&(t="ios"),t},formFactor:function(){if(e.formFactorOverride)return e.formFactorOverride.toLowerCase();if("iPad"==navigator.platform)return"tablet";if("iPhone"==navigator.platform||"iPhone Simulator"==navigator.platform)return"phone";var t=navigator.userAgent.toLowerCase();if(t.indexOf("android")>-1){if(t.indexOf("mobile safari")>-1)return"phone";if(t.indexOf("mobile safari")<0&&t.indexOf("safari")>-1)return"tablet"}return Math.max(window.screen.width,window.screen.height)<1024?"phone":"tablet"},isTablet:function(){return"tablet"==e.formFactor()},isPhone:function(){return"phone"==e.formFactor()},isPortrait:function(){return 0===window.orientation||180==window.orientation||window.location.href.indexOf("?portrait")>-1},isLandscape:function(){return window.location.href.indexOf("?landscape")>-1?!0:!e.isPortrait()},isRetina:function(){return window.devicePixelRatio>1},iPad:function(){return"ios"===e.platform()&&"tablet"===e.formFactor()},iPhone:function(){return"ios"===e.platform()&&"phone"===e.formFactor()},droidPhone:function(){return"android"===e.platform()&&"phone"===e.formFactor()},droidTablet:function(){return"android"===e.platform()&&"tablet"===e.formFactor()}};return e}),t("yasmf/util/object",[],function(){var e=function(){var e=this;return e._classHierarchy=["BaseObject"],e.subclass=function(t){e._classHierarchy.push(t)},e.getClass=function(){return e._classHierarchy[e._classHierarchy.length-1]},Object.defineProperty(e,"class",{get:e.getClass,configurable:!1}),e.getSuperClassOfClass=function(t){var n=t||e.class,r=e._classHierarchy.indexOf(n);return r>-1?e._classHierarchy[r-1]:null},Object.defineProperty(e,"superClass",{get:e.getSuperClassOfClass,configurable:!1}),e._super={},e.overrideSuper=function(t,n,r){var i=e.getSuperClassOfClass(t);e._super[i]||(e._super[i]={}),e._super[i][n]=r},e.override=function(t){var n=t.name;""!==n&&(e.overrideSuper(e.class,n,e[n]),e[n]=t)},e.super=function(t,n,r){var i=e.getSuperClassOfClass(t);return e._super[i]?e._super[i][n]?e._super[i][n].apply(e,r):null:null},e.init=function(){},e._tags={},e._tagListeners={},e.setTagForKey=function(t,n){e._tags[t]=n;var r=function(t,n,r){return function(){t(e,n,r)}};if(e._tagListeners[t])for(var i=0;i<e._tagListeners[t].length;i++)setTimeout(r(e._tagListeners[t][i],t,n),0)},e.getTagForKey=function(t){return e._tags[t]},e.addTagListenerForKey=function(t,n){e._tagListeners[t]||(e._tagListeners[t]=[]),e._tagListeners[t].push(n)},e.removeTagListenerForKey=function(t,n){e._tagListeners[t]||(e._tagListeners[t]=[]);var r=e._tagListeners[t].indexOf(n);r>-1&&e._tagListeners[t].splice(r,1)},e.setTag=function(t){e.setTagForKey("__default",t)},e.getTag=function(){return e.getTagForKey("__default")},Object.defineProperty(e,"tag",{get:e.getTag,set:e.setTag,configurable:!0}),e._notificationListeners={},e.addListenerForNotification=function(t,n){return e._notificationListeners[t]?(e._notificationListeners[t].push(n),e._traceNotifications&&console.log("Adding listener "+n+" for notification "+t),void 0):(console.log(t+" has not been registered."),void 0)},e.removeListenerForNotification=function(t,n){if(!e._notificationListeners[t])return console.log(t+" has not been registered."),void 0;var r=e._notificationListeners[t].indexOf(n);e._traceNotifications&&console.log("Removing listener "+n+" (index: "+r+") from  notification "+t),r>-1&&e._notificationListeners[t].splice(r,1)},e.registerNotification=function(t){e._notificationListeners[t]=[],e._traceNotifications&&console.log("Registering notification "+t)},e._traceNotifications=!1,e.notify=function(t,n){if(!e._notificationListeners[t])return console.log(t+" has not been registered."),void 0;e._traceNotifications&&console.log("Notifying "+e._notificationListeners[t].length+" listeners for "+t+" ( "+n+" ) ");for(var r=function(t,n,r){return function(){t(e,n,r)}},i=0;i<e._notificationListeners[t].length;i++)setTimeout(r(e._notificationListeners[t][i],t,n),0)},e.notifyMostRecent=function(t,n){if(!e._notificationListeners[t])return console.log(t+" has not been registered."),void 0;e._traceNotifications&&console.log("Notifying "+e._notificationListeners[t].length+" listeners for "+t+" ( "+n+" ) ");var r=e._notificationListeners[t].length-1;r>=0&&setTimeout(function(){e._notificationListeners[t][r](e,t,n)},0)},e.defineProperty=function(t,n){var r=t.substr(0,1).toUpperCase()+t.substr(1),i={"default":void 0,read:!0,write:!0,get:null,set:null,selfDiscover:!0};for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);if(null===i.get&&i.selfDiscover&&"function"==typeof e["get"+r]&&(i.get=e["get"+r]),null===i.set&&i.selfDiscover&&"function"==typeof e["set"+r]&&(i.set=e["set"+r]),e["_"+t]=i.default,i.read||i.write){var a={configurable:!0};i.read&&(e["___get"+r]=i.get,e["__get"+r]=function(){return"function"==typeof e["___get"+r]?e["___get"+r](e["_"+t]):e["_"+t]},"undefined"==typeof e["get"+r]&&(e["get"+r]=e["__get"+r]),a.get=e["__get"+r]),i.write&&(e["___set"+r]=i.set,e["__set"+r]=function(n){var i=e["_"+t];"function"==typeof e["___set"+r]?e["___set"+r](n,i):e["_"+t]=n},"undefined"==typeof e["set"+r]&&(e["set"+r]=e["__set"+r]),a.set=e["__set"+r]),Object.defineProperty(e,t,a)}},e.defineObservableProperty=function(t,n){var r=t.substr(0,1).toUpperCase()+t.substr(1),i={observable:!0,notification:t+"Changed","default":void 0,read:!0,write:!0,get:null,validate:null,set:null,selfDiscover:!0,notifyAlways:!1};for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);if(null===i.get&&i.selfDiscover&&"function"==typeof e["getObservable"+r]&&(i.get=e["getObservable"+r]),null===i.set&&i.selfDiscover&&"function"==typeof e["setObservable"+r]&&(i.set=e["setObservable"+r]),null===i.validate&&i.selfDiscover&&"function"==typeof e["validateObservable"+r]&&(i.validate=e["validateObservable"+r]),i.observable&&e.registerNotification(i.notification),e["__"+t]=i.default,i.read||i.write){var a={configurable:!0};i.read&&(e["___get"+r]=i.get,e["__get"+r]=function(){return"function"==typeof e["___get"+r]?e["___get"+r](e["__"+t]):e["__"+t]},a.get=e["__get"+r]),i.write&&(e["___validate"+r]=i.validate,e["___set"+r]=i.set,e["__set"+r]=function(n){var o=e["__"+t],a=!0;"function"==typeof e["___validate"+r]&&(a=e["___validate"+r](n)),a&&(e["__"+t]="function"==typeof e["___set"+r]?e["___set"+r](n,o):n,(n!==o||i.notifyAlways)&&i.observable&&e.notify(i.notification,{"new":n,old:o}))},a.set=e["__set"+r]),Object.defineProperty(e,t,a)}},e.destroy=function(){e._notificationListeners={},e._tagListeners={}},e};return e}),t("Q",[],function(){return window.Q}),t("yasmf/util/fileManager",["Q","yasmf/util/object"],function(e,t){function n(t,n){var r=e.defer();b&&console.log(["_requestQuota: ",t,n].join(" "));try{var i="undefined"!=typeof LocalFileSystem?LocalFileSystem.PERSISTENT:window.PERSISTENT,o=t==i?navigator.webkitPersistentStorage:navigator.webkitTemporaryStorage;o?o.requestQuota?o.requestQuota(n,function(e){b&&console.log(["_requestQuota: quota granted: ",t,e].join(" ")),r.resolve(e)},function(e){b&&console.log(["_requestQuota: quota rejected: ",t,n,e].join(" ")),r.reject(e)}):(b&&console.log(["_requestQuota: couldn't request quota -- no requestQuota: ",t,n].join(" ")),r.resolve(n)):(b&&console.log(["_requestQuota: couldn't request quota -- no storageInfo: ",t,n].join(" ")),r.resolve(n))}catch(a){r.reject(a)}return r.promise}function r(t,n){var r=e.defer();b&&console.log(["_requestFileSystem: ",t,n].join(" "));try{var i=window.webkitRequestFileSystem||window.requestFileSystem;i(t,n,function(e){b&&console.log(["_requestFileSystem: got a file system",e].join(" ")),r.resolve(e)},function(e){b&&console.log(["_requestFileSystem: couldn't get a file system",t].join(" ")),r.reject(e)})}catch(o){r.reject(o)}return r.promise}function i(t){var n=e.defer();b&&console.log(["_resolveLocalFileSystemURL: ",t].join(" "));try{var r,i,o=t.split(":");if(o.length>2)throw new Error("The URI is not well-formed; missing protocol: "+t);o.length<2?(r="file",i=o[0]):(r=o[0],i=o[1]);var a=i.split("/"),l=[];a.forEach(function(e){e=e.trim(),""!==e&&("private"!==e||0!==l.length)&&l.push(e)});var s=l.join("/");s=r+":///"+s,window.resolveLocalFileSystemURL(s,function(e){n.resolve(e)},function(e){n.reject(e)})}catch(u){n.reject(u)}return n.promise}function o(t,n,r){b&&console.log(["_getDirectoryEntry:",t,n,r].join(" "));var i=e.defer();try{"object"==typeof n?i.resolve(n):t.getDirectory(n,r||{},function(e){i.resolve(e)},function(e){i.reject(e)})}catch(o){i.reject(o)}return i.promise}function a(t,n,r){b&&console.log(["_getFileEntry:",t,n,r].join(" "));var i=e.defer();try{"object"==typeof n?i.resolve(n):t.getFile(n,r||{},function(e){i.resolve(e)},function(e){i.reject(e)})}catch(o){i.reject(o)}return i.promise}function l(t){b&&console.log(["_getFileObject:",t].join(" "));var n=e.defer();try{t.file(function(e){n.resolve(e)},function(e){n.reject(e)})}catch(r){n.reject(r)}return n.promise}function s(t,n){b&&console.log(["_readFileContents:",t,n].join(" "));var r=e.defer();try{var i=new FileReader;i.onloadend=function(e){r.resolve(e.target.result)},i.onerror=function(e){r.reject(e)},i["readAs"+n](t)}catch(o){r.reject(o)}return r.promise}function u(t){b&&console.log(["_createFileWriter:",t].join(" "));var n=e.defer();try{t.createWriter(function(e){n.resolve(e)},function(e){n.reject(e)})}catch(r){n.reject(r)}return n.promise}function c(t,n){b&&console.log(["_writeFileContents:",t,n].join(" "));var r=e.defer();try{t.onwrite=function(){t.onwrite=function(e){r.resolve(e)
},t.write(n)},t.onError=function(e){r.reject(e)},t.truncate(0)}catch(i){r.reject(i)}return r.promise}function f(t,n,r){b&&console.log(["_copyFile:",t,n,r].join(" "));var i=e.defer();try{t.copyTo(n,r,function(e){i.resolve(e)},function(e){i.reject(e)})}catch(o){i.reject(o)}return i.promise}function d(t,n,r){b&&console.log(["_moveFile:",t,n,r].join(" "));var i=e.defer();try{t.moveTo(n,r,function(e){i.resolve(e)},function(e){i.reject(e)})}catch(o){i.reject(o)}return i.promise}function m(t){b&&console.log(["_removeFile:",t].join(" "));var n=e.defer();try{t.remove(function(){n.resolve()},function(e){n.reject(e)})}catch(r){n.reject(r)}return n.promise}function p(t,n,r){b&&console.log(["_copyDirectory:",t,n,r].join(" "));var i=e.defer();try{t.copyTo(n,r,function(e){i.resolve(e)},function(e){i.reject(e)})}catch(o){i.reject(o)}return i.promise}function g(t,n,r){b&&console.log(["_moveDirectory:",t,n,r].join(" "));var i=e.defer();try{t.moveTo(n,r,function(e){i.resolve(e)},function(e){i.reject(e)})}catch(o){i.reject(o)}return i.promise}function y(t,n){b&&console.log(["_removeDirectory:",t,"recursively",n].join(" "));var r=e.defer();try{n?t.removeRecursively(function(){r.resolve()},function(e){r.reject(e)}):t.remove(function(){r.resolve()},function(e){r.reject(e)})}catch(i){r.reject(i)}return r.promise}function v(t){function n(){i.readEntries(function(e){e.length?(o=o.concat(Array.prototype.slice.call(e||[],0)),n()):r.resolve(o)},function(e){r.reject(e)})}b&&console.log(["_readDirectoryContents:",t].join(" "));var r=e.defer();try{var i=t.createReader(),o=[];n()}catch(a){r.reject(a)}return r.promise}var b=!1,h="UTIL.FileManager",_=function(){var _,w="undefined"!=typeof t;return w?(_=new t,_.subclass(h),_.registerNotification("changedCurrentWorkingDirectory")):_={},_.PERSISTENT="undefined"!=typeof LocalFileSystem?LocalFileSystem.PERSISTENT:window.PERSISTENT,_.TEMPORARY="undefined"!=typeof LocalFileSystem?LocalFileSystem.TEMPORARY:window.TEMPORARY,_.FILETYPE={TEXT:"Text",DATA_URL:"DataURL",BINARY:"BinaryString",ARRAY_BUFFER:"ArrayBuffer"},_.getGlobalDebug=function(){return b},_.setGlobalDebug=function(e){b=e},Object.defineProperty(_,"globalDebug",{get:_.getGlobalDebug,set:_.setGlobalDebug,configurable:!0}),_._fileSystemType=null,_.getFileSystemType=function(){return _._fileSystemType},Object.defineProperty(_,"fileSystemType",{get:_.getFileSystemType,configurable:!0}),_._requestedQuota=0,_.getRequestedQuota=function(){return _._requestedQuota},Object.defineProperty(_,"requestedQuota",{get:_.getRequestedQuota,configurable:!0}),_._actualQuota=0,_.getActualQuota=function(){return _._actualQuota},Object.defineProperty(_,"actualQuota",{get:_.getActualQuota,configurable:!0}),_._fileSystem=null,_.getFileSystem=function(){return _._fileSystem},Object.defineProperty(_,"fileSystem",{get:_.getFileSystem,configurable:!0}),_._cwd=null,_.getCurrentWorkingDirectory=function(){return _._cwd},_.setCurrentWorkingDirectory=function(e){_._cwd=e,w&&_.notify("changedCurrentWorkingDirectory")},Object.defineProperty(_,"cwd",{get:_.getCurrentWorkingDirectory,set:_.setCurrentWorkingDirectory,configurable:!0}),Object.defineProperty(_,"currentWorkingDirectory",{get:_.getCurrentWorkingDirectory,set:_.setCurrentWorkingDirectory,configurable:!0}),_._cwds=[],_.pushCurrentWorkingDirectory=function(){_._cwds.push(_._cwd)},_.popCurrentWorkingDirectory=function(){_.setCurrentWorkingDirectory(_._cwds.pop())},_.resolveLocalFileSystemURL=function(t){var n=e.defer();return i(t).then(function(e){n.resolve(e)}).catch(function(e){n.reject(e)}).done(),n.promise},_.getFileEntry=function(t,n){var r=e.defer();return a(_._cwd,t,n).then(function(e){r.resolve(e)}).catch(function(e){r.reject(e)}).done(),r.promise},_.getFile=function(e,t){return _.getFileEntry(e,t).then(l)},_.getDirectoryEntry=function(t,n){var r=e.defer();return o(_._cwd,t,n).then(function(e){r.resolve(e)}).catch(function(e){r.reject(e)}).done(),r.promise},_.getFileURL=function(t,n){var r=e.defer();return a(_._cwd,t,n).then(function(e){r.resolve(e.toURL())}).catch(function(e){r.reject(e)}).done(),r.promise},_.getDirectoryURL=function(t,n){var r=e.defer();return o(_._cwd,t||".",n).then(function(e){r.resolve(e.toURL())}).catch(function(e){r.reject(e)}).done(),r.promise},_.changeDirectory=function(t){var n=e.defer();return o(_._cwd,t,{}).then(function(e){_.cwd=e}).then(function(){n.resolve(_)}).catch(function(e){n.reject(e)}).done(),n.promise},_.readFileContents=function(t,n,r){var i=e.defer();return a(_._cwd,t,n||{}).then(function(e){return l(e)}).then(function(e){return s(e,r||"Text")}).then(function(e){i.resolve(e)}).catch(function(e){i.reject(e)}).done(),i.promise},_.readDirectoryContents=function(t,n){var r=e.defer();return o(_._cwd,t||".",n||{}).then(function(e){return v(e)}).then(function(e){r.resolve(e)}).catch(function(e){r.reject(e)}).done(),r.promise},_.writeFileContents=function(t,n,r){var i=e.defer();return a(_._cwd,t,n||{create:!0,exclusive:!1}).then(function(e){return u(e)}).then(function(e){return c(e,r)}).then(function(){i.resolve(_)}).catch(function(e){i.reject(e)}).done(),i.promise},_.createDirectory=function(t){var n=e.defer();return o(_._cwd,t,{create:!0,exclusive:!1}).then(function(e){n.resolve(e)}).catch(function(e){n.reject(e)}).done(),n.promise},_.copyFile=function(t,n,r){var i,l=e.defer();return a(_._cwd,t,{}).then(function(e){return i=e,o(_._cwd,n,{})}).then(function(e){return f(i,e,r)}).then(function(e){l.resolve(e)}).catch(function(e){l.reject(e)}).done(),l.promise},_.copyDirectory=function(t,n,r){var i,a=e.defer();return o(_._cwd,t,{}).then(function(e){return i=e,o(_._cwd,n,{})}).then(function(e){return p(i,e,r)}).then(function(e){a.resolve(e)}).catch(function(e){a.reject(e)}).done(),a.promise},_.moveFile=function(t,n,r){var i,l=e.defer();return a(_._cwd,t,{}).then(function(e){return i=e,o(_._cwd,n,{})}).then(function(e){return d(i,e,r)}).then(function(e){l.resolve(e)}).catch(function(e){l.reject(e)}).done(),l.promise},_.moveDirectory=function(t,n,r){var i,a=e.defer();return o(_._cwd,t,{}).then(function(e){return i=e,o(_._cwd,n,{})}).then(function(e){return g(i,e,r)}).then(function(e){a.resolve(e)}).catch(function(e){a.reject(e)}).done(),a.promise},_.renameFile=function(e,t){return _.moveFile(e,".",t)},_.renameDirectory=function(e,t){return _.moveDirectory(e,".",t)},_.deleteFile=function(t){var n=e.defer();return a(_._cwd,t,{}).then(function(e){return m(e)}).then(function(){n.resolve(_)}).catch(function(e){n.reject(e)}).done(),n.promise},_.removeDirectory=function(t,n){var r=e.defer();return o(_._cwd,t,{}).then(function(e){return y(e,n)}).then(function(){r.resolve(_)}).catch(function(e){r.reject(e)}).done(),r.promise},_._initializeFileSystem=function(){var t=e.defer();return n(_.fileSystemType,_.requestedQuota).then(function(e){return _._actualQuota=e,r(_.fileSystemType,_.actualQuota)}).then(function(e){_._fileSystem=e,_._cwd=e.root}).then(function(){t.resolve(_)}).catch(function(e){t.reject(e)}).done(),t.promise},_.overrideSuper&&_.overrideSuper(_.class,"init",_.init),_.init=function(e,t){if(_.super&&_.super(h,"init"),"undefined"==typeof e)throw new Error("No file system type specified; specify PERSISTENT or TEMPORARY.");if("undefined"==typeof t)throw new Error("No quota requested. If you don't know, specify ZERO.");return _._requestedQuota=t,_._fileSystemType=e,_._initializeFileSystem()},_.initWithOptions=function(e){if("undefined"==typeof e)throw new Error("No options specified. Need type and quota.");if("undefined"==typeof e.fileSystemType)throw new Error("No file system type specified; specify PERSISTENT or TEMPORARY.");if("undefined"==typeof e.requestedQuota)throw new Error("No quota requested. If you don't know, specify ZERO.");return _.init(e.fileSystemType,e.requestedQuota)},_};return _}),t("yasmf/ui/core",["yasmf/util/device","yasmf/util/object"],function(e,t){var n={};return n.version="0.4.100",n.styleElement=function(e,t,n){for(var r=["-webkit-","-moz-","-ms-","-o-",""],i=0;i<r.length;i++){var o=r[i],a=o+t,l=n.replace("%PREFIX%",o);e.style.setProperty(a,l)}},n.styleElements=function(e,t,r){var i;for(i=0;i<e.length;i++)n.styleElement(e[i],t,r)},n.colorToRGBA=function(e){return e?0!==e.alpha?"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")":"transparent":"inherit"},n.makeColor=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},n.copyColor=function(e){return n.makeColor(e.red,e.green,e.blue,e.alpha)},n.COLOR=n.COLOR||{},n.COLOR.blackColor=function(){return n.makeColor(0,0,0,1)},n.COLOR.darkGrayColor=function(){return n.makeColor(85,85,85,1)},n.COLOR.GrayColor=function(){return n.makeColor(127,127,127,1)},n.COLOR.lightGrayColor=function(){return n.makeColor(170,170,170,1)},n.COLOR.whiteColor=function(){return n.makeColor(255,255,255,1)},n.COLOR.blueColor=function(){return n.makeColor(0,0,255,1)},n.COLOR.greenColor=function(){return n.makeColor(0,255,0,1)},n.COLOR.redColor=function(){return n.makeColor(255,0,0,1)},n.COLOR.cyanColor=function(){return n.makeColor(0,255,255,1)},n.COLOR.yellowColor=function(){return n.makeColor(255,255,0,1)},n.COLOR.magentaColor=function(){return n.makeColor(255,0,255,1)},n.COLOR.orangeColor=function(){return n.makeColor(255,127,0,1)},n.COLOR.purpleColor=function(){return n.makeColor(127,0,127,1)},n.COLOR.brownColor=function(){return n.makeColor(153,102,51,1)},n.COLOR.lightTextColor=function(){return n.makeColor(240,240,240,1)},n.COLOR.darkTextColor=function(){return n.makeColor(15,15,15,1)},n.COLOR.clearColor=function(){return n.makeColor(0,0,0,0)},n._rootContainer=null,n._createRootContainer=function(){n._rootContainer=document.createElement("div"),n._rootContainer.className="ui-container",n._rootContainer.id="rootContainer",document.body.appendChild(n._rootContainer)},n._rootView=null,n.setRootView=function(e){null===n._rootContainer&&n._createRootContainer(),null!==n._rootView&&n.removeRootView(),n._rootView=e,n._rootView.parentElement=n._rootContainer},n.removeRootView=function(){null!==n._rootView&&(n._rootView.parentElement=null),n._rootView=null},n.getRootView=function(){return n._rootView},Object.defineProperty(n,"rootView",{get:n.getRootView,set:n.setRootView}),n._BackButtonHandler=function(){var e=new t;return e.subclass("BackButtonHandler"),e.registerNotification("backButtonPressed"),e._lastBackButtonTime=-1,e.handleBackButton=function(){var t=(new Date).getTime();e._lastBackButtonTime<t-1e3&&(e._lastBackButtonTime=(new Date).getTime(),e.notifyMostRecent("backButtonPressed"))},document.addEventListener("backbutton",e.handleBackButton,!1),e},n.backButton=new n._BackButtonHandler,n._OrientationHandler=function(){var n=new t;return n.subclass("OrientationHandler"),n.registerNotification("orientationChanged"),n.handleOrientationChange=function(){var t,r,i,o,a;t=e.platform(),"ios"==t&&(navigator.userAgent.indexOf("OS 7")>-1&&(t+=" ios7"),navigator.userAgent.indexOf("OS 6")>-1&&(t+=" ios6"),navigator.userAgent.indexOf("OS 5")>-1&&(t+=" ios5")),i=e.formFactor(),r=e.isPortrait()?"portrait":"landscape",o=e.isRetina()?"hiDPI":"loDPI",a="",e.iPad()&&(a="ipad"),e.iPhone()&&(a="iphone"),e.droidTablet()&&(a="droid-tablet"),e.droidPhone()&&(a="droid-phone"),document.body.setAttribute("class",t+" "+i+" "+r+" "+o+" "+a),n.notify("orientationChanged")},window.addEventListener("orientationchange",n.handleOrientationChange,!1),n.handleOrientationChange(),n},n.orientationHandler=new n._OrientationHandler,n.globalNotifications=new t,n._createRootContainer(),n}),t("yasmf/ui/event",["yasmf/util/device"],function(e){var t=function(t){var n=t;if(!n)return n;var r=e.platform(),i="wince"==r||"unknown"==r||"mac"==r||"windows"==r||"linux"==r;return i&&n.toLowerCase().indexOf("touch")>-1&&(n=n.replace("touch","mouse"),n=n.replace("start","down"),n=n.replace("end","up")),n},n={};return n.convert=function(e,t){"undefined"==typeof t&&(t=window.event);var r={_originalEvent:t,touches:[],x:-1,y:-1,avgX:-1,avgY:-1,element:t.target||t.srcElement,target:e};if(t.touches){for(var i=0,o=0,a=0;a<t.touches.length;a++)r.touches.push({x:t.touches[a].clientX,y:t.touches[a].clientY}),i+=t.touches[a].clientX,o+=t.touches[a].clientY,0===a&&(r.x=t.touches[a].clientX,r.y=t.touches[a].clientY);t.touches.length>0&&(r.avgX=i/t.touches.length,r.avgY=o/t.touches.length)}else n.pageX&&(r.touches.push({x:t.pageX,y:t.pageY}),r.x=t.pageX,r.y=t.pageY,r.avgX=t.pageX,r.avgY=t.pageY);return r},n.cancel=function(e){e._originalEvent.cancelBubble&&e._originalEvent.cancelBubble(),e._originalEvent.stopPropagation&&e._originalEvent.stopPropagation(),e._originalEvent.preventDefault?e._originalEvent.preventDefault():e._originalEvent.returnValue=!1},n.addListener=function(e,n,r){var i=t(n.toLowerCase());e.addEventListener(i,r,!1)},n.removeListener=function(e,n,r){var i=t(n.toLowerCase());e.removeEventListener(i,r)},n}),t("yasmf/ui/viewContainer",["yasmf/util/object"],function(e){var t="ViewContainer",n=function(){var n=new e;return n.subclass(t),n.registerNotification("viewWasPushed"),n.registerNotification("viewWasPopped"),n.registerNotification("viewWillAppear"),n.registerNotification("viewWillDisappear"),n.registerNotification("viewDidAppear"),n.registerNotification("viewDidDisappear"),n._element=null,n._elementClass="ui-container",n._elementId=null,n._elementTag="div",n._parentElement=null,n.defineObservableProperty("title"),n.createElement=function(){n._element=document.createElement(n._elementTag),null!==n.elementClass&&(n._element.className=n.elementClass),null!==n.elementId&&(n._element.id=n.elementId)},n.createElementIfNotCreated=function(){null===n._element&&n.createElement()},n.getElement=function(){return n.createElementIfNotCreated(),n._element},n.setElement=function(e){n._element=e},Object.defineProperty(n,"element",{get:n.getElement,set:n.setElement,configurable:!0}),n.getElementClass=function(){return n._elementClass},n.setElementClass=function(e){n._elementClass=e,null!==n._element&&(n._element.className=e)},Object.defineProperty(n,"elementClass",{get:n.getElementClass,set:n.setElementClass,configurable:!0}),n.getElementId=function(){return n._elementId},n.setElementId=function(e){n._elementId=e,null!==n._element&&(n._element.id=e)},Object.defineProperty(n,"elementId",{get:n.getElementId,set:n.setElementId,configurable:!0}),n.getElementTag=function(){return n._elementTag},n.setElementTag=function(e){n._elementTag=e},Object.defineProperty(n,"elementTag",{get:n.getElementTag,set:n.setElementTag,configurable:!0}),n.getParentElement=function(){return n._parentElement},n.setParentElement=function(e){null!==n._parentElement&&null!==n._element&&(n._parentElement.removeChild(n._element),n._parentElement=null),n._parentElement=e,null!==n._parentElement&&null!==n._element&&n._parentElement.appendChild(n._element)},Object.defineProperty(n,"parentElement",{get:n.getParentElement,set:n.setParentElement,configurable:!0}),n.render=function(){return"Error: Abstract Method"},n.renderToElement=function(){n.element.innerHTML=n.render()},n.overrideSuper(n.class,"init",n.init),n.init=function(e,r,i,o){n.super(t,"init"),"undefined"!=typeof e&&(n.elementId=e),"undefined"!=typeof r&&(n.elementTag=r),"undefined"!=typeof i&&(n.elementClass=i),n.renderToElement(),"undefined"!=typeof o&&(n.parentElement=o)},n.initWithOptions=function(e){var t,r,i,o;"undefined"!=typeof e&&("undefined"!=typeof e.id&&(t=e.id),"undefined"!=typeof e.tag&&(r=e.tag),"undefined"!=typeof e.class&&(i=e.class),"undefined"!=typeof e.parent&&(o=e.parent)),n.init(t,r,i,o),"undefined"!=typeof e&&"undefined"!=typeof e.title&&(n.title=e.title)},n.overrideSuper(n.class,"destroy",n.destroy),n.destroy=function(){null!==n._parentElement&&null!==n._element&&(n._parentElement.removeChild(n._element),n._parentElement=null),n.super(t,"destroy")},n};return n}),t("yasmf/ui/navigationController",["yasmf/ui/core","yasmf/ui/viewContainer"],function(e,t){var n="NavigationController",r=function(){var r=new t;return r.subclass(n),r.registerNotification("viewPushed"),r.registerNotification("viewPopped"),r.registerNotification("modalViewPushed"),r._subviews=[],r.getSubviews=function(){return r._subviews},Object.defineProperty(r,"subviews",{get:r.getSubviews,configurable:!0}),r.getTopView=function(){return r._subviews.length>0?r._subviews[r._subviews.length-1]:null},Object.defineProperty(r,"topView",{get:r.getTopView,configurable:!0}),r.getRootView=function(){return r._subviews.length>0?r._subviews[0]:null},r.setRootView=function(e){if(r._subviews.length>0){for(var t=0;t<r._subviews.length;t++){var n=r._subviews[t];n.notify("viewWillDisappear"),0===t&&n.element.classList.remove("ui-root-view"),n.parentElement=null,n.notify("viewDidDisappear"),n.notify("viewWasPopped"),delete n.navigationController}r._subviews=[]}r._subviews.push(e),e.navigationController=r,e.notify("viewWasPushed"),e.notify("viewWillAppear"),e.parentElement=r.element,e.element.classList.add("ui-root-view"),e.notify("viewDidAppear")},Object.defineProperty(r,"rootView",{get:r.getRootView,set:r.setRootView,configurable:!0}),r._preventClicks=null,r._createClickPreventionElement=function(){r.createElementIfNotCreated(),r._preventClicks=document.createElement("div"),r._preventClicks.className="ui-prevent-clicks",r.element.appendChild(r._preventClicks)},r._createClickPreventionElementIfNotCreated=function(){null===r._preventClicks&&r._createClickPreventionElement()},r.pushView=function(t,n,i,o){var a=r.topView,l=t,s=!0,u=.3,c="ease-in-out";"undefined"!=typeof n&&(s=n),"undefined"!=typeof i&&(u=i),"undefined"!=typeof o&&(c=o),s||(u=0),r._subviews.push(l),l.navigationController=r,l.notify("viewWasPushed");var f=parseInt(getComputedStyle(a.element).getPropertyValue("z-index")||"0",10),d=parseInt(getComputedStyle(l.element).getPropertyValue("z-index")||"0",10);f>=d&&(d=f+10),e.styleElement(a.element,"transform","translate3d(0,0,"+f+"px)"),e.styleElement(l.element,"transform","translate3d(100%,0,"+d+"px)"),s?(e.styleElements([l.element,a.element],"transition","-webkit-transform "+u+"s "+c),e.styleElements([l.element,a.element],"transition","-moz-transform "+u+"s "+c),e.styleElements([l.element,a.element],"transition","-ms-transform "+u+"s "+c),e.styleElements([l.element,a.element],"transition","transform "+u+"s "+c),e.styleElements(a.element.querySelectorAll(".ui-navigation-bar *"),"transition","opacity "+u+"s "+c),e.styleElements(l.element.querySelectorAll(".ui-navigation-bar *"),"transition","opacity "+u+"s "+c),e.styleElements(a.element.querySelectorAll(".ui-navigation-bar *"),"opacity","1"),e.styleElements(l.element.querySelectorAll(".ui-navigation-bar *"),"opacity","0")):(e.styleElements([l.element,a.element],"transition","inherit"),e.styleElements(a.element.querySelectorAll(".ui-navigation-bar *"),"transition","inherit"),e.styleElements(l.element.querySelectorAll(".ui-navigation-bar *"),"transition","inherit")),l.parentElement=r.element,r._preventClicks.style.display="block",setTimeout(function(){e.styleElement(a.element,"transform","translate3d(-50%,0,"+f+"px)"),e.styleElement(l.element,"transform","translate3d(0,0,"+d+"px)"),s&&(e.styleElements(a.element.querySelectorAll(".ui-navigation-bar *"),"opacity","0"),e.styleElements(l.element.querySelectorAll(".ui-navigation-bar *"),"opacity","1")),a.notify("viewWillDisappear"),l.notify("viewWillAppear"),r.notify("viewPushed",[l]),setTimeout(function(){a.element.style.display="none",a.notify("viewDidDisappear"),l.notify("viewDidAppear"),r._preventClicks.style.display="none"},1e3*u)},50)},r.popView=function(t,n,i){var o=!0,a=.3,l="ease-in-out";if("undefined"!=typeof t&&(o=t),"undefined"!=typeof n&&(a=n),"undefined"!=typeof i&&(l=i),o||(a=0),!(r._subviews.length<=1)){var s=r._subviews.pop(),u=r.topView,c=parseInt(getComputedStyle(s.element).getPropertyValue("z-index")||"0",10),f=parseInt(getComputedStyle(u.element).getPropertyValue("z-index")||"0",10);f>=c&&(c=f+10),u.element.style.display="inherit",e.styleElements([s.element,u.element],"transition","inherit"),e.styleElements(s.element.querySelectorAll(".ui-navigation-bar *"),"transition","inherit"),e.styleElements(u.element.querySelectorAll(".ui-navigation-bar *"),"transition","inherit"),e.styleElement(u.element,"transform","translate3d(-50%,0,"+f+"px)"),e.styleElement(s.element,"transform","translate3d(0,0,"+c+"px"),o?(e.styleElements(u.element.querySelectorAll(".ui-navigation-bar *"),"opacity","0"),e.styleElements(s.element.querySelectorAll(".ui-navigation-bar *"),"opacity","1")):(e.styleElements(u.element.querySelectorAll(".ui-navigation-bar *"),"opacity","1"),e.styleElements(s.element.querySelectorAll(".ui-navigation-bar *"),"opacity","1")),o&&(e.styleElements([s.element,u.element],"transition","-webkit-transform "+a+"s "+l),e.styleElements([s.element,u.element],"transition","-moz-transform "+a+"s "+l),e.styleElements([s.element,u.element],"transition","-ms-transform "+a+"s "+l),e.styleElements([s.element,u.element],"transition","transform "+a+"s "+l),e.styleElements(s.element.querySelectorAll(".ui-navigation-bar *"),"transition","opacity "+a+"s "+l),e.styleElements(u.element.querySelectorAll(".ui-navigation-bar *"),"transition","opacity "+a+"s "+l)),r._preventClicks.style.display="block",setTimeout(function(){e.styleElement(u.element,"transform","translate3d(0,0,"+f+"px)"),e.styleElement(s.element,"transform","translate3d(100%,0,"+c+"px)"),o&&(e.styleElements(s.element.querySelectorAll(".ui-navigation-bar *"),"opacity","0"),e.styleElements(u.element.querySelectorAll(".ui-navigation-bar *"),"opacity","1")),s.notify("viewWillDisappear"),u.notify("viewWillAppear"),setTimeout(function(){s.notify("viewWasPopped"),s.notify("viewDidDisappear"),u.notify("viewDidAppear"),r.notify("viewPopped",[s]),r._preventClicks.style.display="none",s.parentElement=null,delete s.navigationController},1e3*a)},50)}},r.overrideSuper(r.class,"render",r.render),r.render=function(){return""},r.overrideSuper(r.class,"renderToElement",r.renderToElement),r.renderToElement=function(){r.createElementIfNotCreated(),r._createClickPreventionElementIfNotCreated()},r.overrideSuper(r.class,"init",r.init),r.init=function(e,t,i,o,a){if("undefined"==typeof e)throw new Error("Can't initialize a navigation controller without a root view.");r.super(n,"init",[t,i,o,a]),r.rootView=e},r.overrideSuper(r.class,"initWithOptions",r.initWithOptions),r.initWithOptions=function(e){var t,n,i,o,a;"undefined"!=typeof e&&("undefined"!=typeof e.id&&(n=e.id),"undefined"!=typeof e.tag&&(i=e.tag),"undefined"!=typeof e.class&&(o=e.class),"undefined"!=typeof e.parent&&(a=e.parent),"undefined"!=typeof e.rootView&&(t=e.rootView)),r.init(t,n,i,o,a)},r};return r}),t("yasmf/ui/splitViewController",["yasmf/ui/core","yasmf/ui/viewContainer"],function(e,t){var n="SplitViewController",r=function(){var e=new t;return e.subclass(n),e.registerNotification("viewsChanged"),e._viewType="split",e.getViewType=function(){return e._viewType},e.setViewType=function(t){e.element.classList.remove("ui-"+e._viewType+"-view"),e._viewType=t,e.element.classList.add("ui-"+t+"-view"),e.leftViewStatus="invisible"},Object.defineProperty(e,"viewType",{get:e.getViewType,set:e.setViewType,configurable:!0}),e._leftViewStatus="invisible",e.getLeftViewStatus=function(){return e._leftViewStatus},e.setLeftViewStatus=function(t){e.element.classList.remove("ui-left-side-"+e._leftViewStatus),e._leftViewStatus=t,e.element.classList.add("ui-left-side-"+t)},Object.defineProperty(e,"leftViewStatus",{get:e.getLeftViewStatus,set:e.setLeftViewStatus,configurable:!0}),e._subviews=[null,null],e.getSubviews=function(){return e._subviews},Object.defineProperty(e,"subviews",{get:e.getSubviews,configurable:!0}),e._leftElement=null,e._rightElement=null,e._createElements=function(){null!==e._leftElement&&e.element.removeChild(e._leftElement),null!==e._rightElement&&e.element.removeChild(e._rightElement),e._leftElement=document.createElement("div"),e._rightElement=document.createElement("div"),e._leftElement.className="ui-container left-side",e._rightElement.className="ui-container right-side",e.element.appendChild(e._leftElement),e.element.appendChild(e._rightElement)},e._createElementsIfNecessary=function(){(null===e._leftElement||null===e._rightElement)&&e._createElements()},e._assignViewToSide=function(t,n){e._createElementsIfNecessary(),n.splitViewController=e,n.notify("viewWillAppear"),n.parentElement=t,n.notify("viewDidAppear")},e.getLeftView=function(){return e._subviews.length>0?e._subviews[0]:null},e.setLeftView=function(t){e._subviews.length>0?e._subviews[0]=t:e._subviews.push(t),e._assignViewToSide(e._leftElement,t),e.notify("viewsChanged")},Object.defineProperty(e,"leftView",{get:e.getLeftView,set:e.setLeftView,configurable:!0}),e.getRightView=function(){return e._subviews.length>1?e._subviews[1]:null},e.setRightView=function(t){e._subviews.length>1?e._subviews[1]=t:e._subviews.push(t),e._assignViewToSide(e._rightElement,t),e.notify("viewsChanged")},Object.defineProperty(e,"rightView",{get:e.getRightView,set:e.setRightView,configurable:!0}),e.overrideSuper(e.class,"render",e.render),e.render=function(){return""},e.overrideSuper(e.class,"renderToElement",e.renderToElement),e.renderToElement=function(){e._createElementsIfNecessary()},e.overrideSuper(e.class,"init",e.init),e.init=function(t,r,i,o,a,l){if("undefined"==typeof t)throw new Error("Can't initialize a navigation controller without a left view.");if("undefined"==typeof r)throw new Error("Can't initialize a navigation controller without a right view.");e.super(n,"init",[i,o,a,l]),e.leftView=t,e.rightView=r},e.overrideSuper(e.class,"initWithOptions",e.initWithOptions),e.initWithOptions=function(t){var n,r,i,o,a,l;"undefined"!=typeof t&&("undefined"!=typeof t.id&&(i=t.id),"undefined"!=typeof t.tag&&(o=t.tag),"undefined"!=typeof t.class&&(a=t.class),"undefined"!=typeof t.parent&&(l=t.parent),"undefined"!=typeof t.leftView&&(n=t.leftView),"undefined"!=typeof t.rightView&&(r=t.rightView)),e.init(n,r,i,o,a,l),"undefined"!=typeof t&&("undefined"!=typeof t.viewType&&(e.viewType=t.viewType),"undefined"!=typeof t.leftViewStatus&&(e.leftViewStatus=t.leftViewStatus))},e};return r}),t("yasmf/ui/tabViewController",["yasmf/ui/core","yasmf/ui/viewContainer","yasmf/ui/event"],function(e,t,n){var r="TabViewController",i=function(){var e=new t;return e.subclass(r),e.registerNotification("viewsChanged"),e._tabElements=[],e._tabBarElement=null,e._barButtonGroup=null,e._viewContainer=null,e._createTabBarElement=function(){e._tabBarElement=document.createElement("div"),e._tabBarElement.className="ui-tab-bar ui-tab-default-position",e._barButtonGroup=document.createElement("div"),e._barButtonGroup.className="ui-bar-button-group ui-align-center",e._tabBarElement.appendChild(e._barButtonGroup)},e._createTabBarElementIfNecessary=function(){null===e._tabBarElement&&e._createTabBarElement()},e._createViewContainer=function(){e._viewContainer=document.createElement("div"),e._viewContainer.className="ui-container ui-avoid-tab-bar ui-tab-default-position"},e._createViewContainerIfNecessary=function(){null===e._viewContainer&&e._createViewContainer()},e._createElements=function(){e._createTabBarElementIfNecessary(),e._createViewContainerIfNecessary(),e.element.appendChild(e._tabBarElement),e.element.appendChild(e._viewContainer)},e._createElementsIfNecessary=function(){null===e._tabBarElement&&null===e._viewContainer&&e._createElements()},e._createTabElement=function(t,r){var i=document.createElement("div");return i.className="ui-bar-button ui-tint-color",i.innerHTML=t.title,i.setAttribute("data-tag",r),n.addListener(i,"touchstart",function(){e.selectedTab=parseInt(this.getAttribute("data-tag"),10)}),i},e.setObservableBarPosition=function(t,n){return e._createElementsIfNecessary(),e._tabBarElement.classList.remove("ui-tab-"+n+"-position"),e._tabBarElement.classList.add("ui-tab-"+t+"-position"),e._viewContainer.classList.remove("ui-tab-"+n+"-position"),e._viewContainer.classList.add("ui-tab-"+t+"-position"),t},e.defineObservableProperty("barPosition",{"default":"default"}),e.setObservableBarAlignment=function(t,n){return e._createElementsIfNecessary(),e._barButtonGroup.classList.remove("ui-align-"+n),e._barButtonGroup.classList.add("ui-align-"+t),t},e.defineObservableProperty("barAlignment",{"default":"center"}),e.defineProperty("subviews",{write:!1,"default":[]}),e.addSubview=function(t){e._createElementsIfNecessary();var n=e._createTabElement(t,e._tabElements.length);e._barButtonGroup.appendChild(n),e._tabElements.push(n),e._subviews.push(t)},e.removeSubview=function(t){e._createElementsIfNecessary();var n=e._subviews.indexOf(t);if(n>-1){var r=e._subviews[n],i=r.parentElement;null!==i&&r.notify("viewWillDisappear"),r.parentElement=null,null!==i&&r.notify("viewDidDisappear"),e._subviews.splice(n,1),e._barButtonGroup.removeChild(e._tabElements[n]),e._tabElements.splice(n,1);var o=e.selectedTab;o>n&&o--,o>e._tabElements.length&&(o=e._tabElements.length),e.selectedTab=o}},e.setObservableSelectedTab=function(t,n){var r,i;return e._createElementsIfNecessary(),n>-1?(r=e._subviews[n],t>-1&&(i=e._subviews[t]),r.notify("viewWillDisappear"),t>-1&&i.notify("viewWillAppear"),r.parentElement=null,t>-1&&(e._subviews[t].parentElement=e._viewContainer),r.notify("viewDidDisappear"),t>-1&&i.notify("viewDidAppear")):(i=e._subviews[t],i.notify("viewWillAppear"),e._subviews[t].parentElement=e._viewContainer,i.notify("viewDidAppear")),t},e.defineObservableProperty("selectedTab",{"default":-1,notifyAlways:!0}),e.overrideSuper(e.class,"render",e.render),e.render=function(){return""},e.overrideSuper(e.class,"renderToElement",e.renderToElement),e.renderToElement=function(){e._createElementsIfNecessary()},e.overrideSuper(e.class,"init",e.init),e.init=function(t,n,i,o){e.super(r,"init",[t,n,i,o])},e.overrideSuper(e.class,"initWithOptions",e.initWithOptions),e.initWithOptions=function(t){var n,r,i,o;"undefined"!=typeof t&&("undefined"!=typeof t.id&&(n=t.id),"undefined"!=typeof t.tag&&(r=t.tag),"undefined"!=typeof t.class&&(i=t.class),"undefined"!=typeof t.parent&&(o=t.parent)),e.init(n,r,i,o),"undefined"!=typeof t&&("undefined"!=typeof t.barPosition&&(e.barPosition=t.barPosition),"undefined"!=typeof t.barAlignment&&(e.barAlignment=t.barAlignment))},e};return i.BAR_POSITION={"default":"default",top:"top",bottom:"bottom"},i.BAR_ALIGNMENT={center:"center",left:"left",right:"right"},i}),t("yasmf/ui/alert",["yasmf/util/core","yasmf/util/device","yasmf/util/object","yasmf/ui/core","Q","yasmf/ui/event"],function(e,t,n,r,i,o){var a="Alert",l=function(){var t=new n;return t.subclass(a),t.registerNotification("buttonTapped"),t.registerNotification("dismissed"),t._title=e.T("Alert"),t._titleElement=null,t.getTitle=function(){return t._title},t.setTitle=function(e){t._title=e,null!==t._titleElement&&(t._titleElement.innerHTML=e)},Object.defineProperty(t,"title",{get:t.getTitle,set:t.setTitle,configurable:!0}),t._text="",t._textElement=null,t.getText=function(){return t._text},t.setText=function(e){t._text=e,null!==t._textElement&&(t._textElement.innerHTML=e)},Object.defineProperty(t,"text",{get:t.getText,set:t.setText,configurable:!0}),t._buttons=[],t._buttonContainer=null,t.getButtons=function(){return t._buttons},t.setButtons=function(e){function n(e){return function(){t.dismiss(e)}}var r;if(null!==t._buttonContainer)for(r=0;r<t._buttons.length;r++)t._buttonContainer.removeChild(t._buttons[r].element);t._buttons=e;var i=!(t._buttons.length>=2&&t._buttons.length<=3);if(null!==t._buttonContainer)for(r=0;r<t._buttons.length;r++){var a=document.createElement("div"),l=t._buttons[r];null===l.tag&&(l.tag=r),a.className="ui-alert-button "+l.type+" "+(i?"wide":""),a.innerHTML=l.title,i||(a.style.width=""+100/t._buttons.length+"%"),o.addListener(a,"touchend",n(r)),l.element=a,t._buttonContainer.appendChild(l.element)}},Object.defineProperty(t,"buttons",{get:t.getButtons,set:t.setButtons,configurable:!0}),t._rootElement=null,t._alertElement=null,t._vaElement=null,t._deferred=null,t._usePromise=!1,t.getUsePromise=function(){return t._usePromise},Object.defineProperty(t,"usePromise",{get:t.getUsePromise,configurable:!0}),t._visible=!1,t.getVisible=function(){return t._visible
},Object.defineProperty(t,"visible",{get:t.getVisible,configurable:!0}),t._createElements=function(){t._rootElement=document.createElement("div"),t._rootElement.className="ui-alert-container",t._vaElement=document.createElement("div"),t._vaElement.className="ui-alert-vertical-align",t._alertElement=document.createElement("div"),t._alertElement.className="ui-alert",t._titleElement=document.createElement("div"),t._titleElement.className="ui-alert-title",t._textElement=document.createElement("div"),t._textElement.className="ui-alert-text",t._buttonContainer=document.createElement("div"),t._buttonContainer.className="ui-alert-button-container",t._alertElement.appendChild(t._titleElement),t._alertElement.appendChild(t._textElement),t._alertElement.appendChild(t._buttonContainer),t._vaElement.appendChild(t._alertElement),t._rootElement.appendChild(t._vaElement)},t.backButtonPressed=function(){t.dismiss(-1)},t.hide=function(){t.dismiss(-1)},t.show=function(){return t.visible?t.usePromise&&null!==t._deferred?t._deferred:void 0:(r.backButton.addListenerForNotification("backButtonPressed",t.backButtonPressed),document.body.appendChild(t._rootElement),setTimeout(function(){t._rootElement.style.opacity="1"},50),setTimeout(function(){t._alertElement.style.opacity="1",r.styleElement(t._alertElement,"transform","scale3d(1.05, 1.05,1)")},125),setTimeout(function(){r.styleElement(t._alertElement,"transform","scale3d(0.95, 0.95,1)")},250),setTimeout(function(){r.styleElement(t._alertElement,"transform","scale3d(1.00, 1.00,1)")},375),t._visible=!0,t.usePromise?(t._deferred=i.defer(),t._deferred.promise):void 0)},t.dismiss=function(e){if(t.visible){r.backButton.removeListenerForNotification("backButtonPressed",t.backButtonPressed),setTimeout(function(){t._alertElement.style.opacity="0"},10),setTimeout(function(){t._rootElement.style.opacity="0"},250),setTimeout(function(){document.body.removeChild(t._rootElement)},500);var n=-1;e>-1&&e<t._buttons.length&&(n=t._buttons[e].tag),t.notify("dismissed"),t.notify("buttonTapped",[n]),t._visible=!1,t.usePromise&&(n>-1?t._deferred.resolve(n):t._deferred.reject(new Error(n)))}},t.overrideSuper(t.class,"init",t.init),t.init=function(){t.super(a,"init"),t._createElements()},t.overrideSuper(t.class,"initWithOptions",t.initWithOptions),t.initWithOptions=function(e){t.init(),"undefined"!=typeof e&&("undefined"!=typeof e.title&&(t.title=e.title),"undefined"!=typeof e.text&&(t.text=e.text),"undefined"!=typeof e.buttons&&(t.buttons=e.buttons),"undefined"!=typeof e.promise&&(t._usePromise=e.promise))},t.overrideSuper(t.class,"destroy",t.destroy),t.destroy=function l(){return t.visible?(t.hide(),setTimeout(l,600),void 0):(t._rootElement=null,t._vaElement=null,t._alertElement=null,t._titleElement=null,t._textElement=null,t._buttonContainer=null,t.super(a,"destroy"),void 0)},t};return l.button=function(e,t){var n={};return n.title=e,n.type="normal",n.tag=null,n.enabled=!0,n.element=null,"undefined"!=typeof t&&("undefined"!=typeof t.type&&(n.type=t.type),"undefined"!=typeof t.tag&&(n.tag=t.tag),"undefined"!=typeof t.enabled&&(n.enabled=t.enabled)),n},l.OK=function(t){var n=new l,r={title:e.T("OK"),text:"",buttons:[l.button(e.T("OK"),{type:"bold"})]};return"undefined"!=typeof t&&("undefined"!=typeof t.title&&(r.title=t.title),"undefined"!=typeof t.text&&(r.text=t.text),"undefined"!=typeof t.promise&&(r.promise=t.promise)),n.initWithOptions(r),n},l.Confirm=function(t){var n=new l,r={title:e.T("Confirm"),text:"",buttons:[l.button(e.T("OK")),l.button(e.T("Cancel"),{type:"bold",tag:-1})]};return"undefined"!=typeof t&&("undefined"!=typeof t.title&&(r.title=t.title),"undefined"!=typeof t.text&&(r.text=t.text),"undefined"!=typeof t.promise&&(r.promise=t.promise)),n.initWithOptions(r),n},l}),t("yasmf",["require","yasmf/util/core","yasmf/util/datetime","yasmf/util/filename","yasmf/util/misc","yasmf/util/device","yasmf/util/object","yasmf/util/fileManager","yasmf/ui/core","yasmf/ui/event","yasmf/ui/viewContainer","yasmf/ui/navigationController","yasmf/ui/splitViewController","yasmf/ui/tabViewController","yasmf/ui/alert"],function(e){var t=e("yasmf/util/core");return t.datetime=e("yasmf/util/datetime"),t.filename=e("yasmf/util/filename"),t.misc=e("yasmf/util/misc"),t.device=e("yasmf/util/device"),t.BaseObject=e("yasmf/util/object"),t.FileManager=e("yasmf/util/fileManager"),t.UI=e("yasmf/ui/core"),t.UI.event=e("yasmf/ui/event"),t.UI.ViewContainer=e("yasmf/ui/viewContainer"),t.UI.NavigationController=e("yasmf/ui/navigationController"),t.UI.SplitViewController=e("yasmf/ui/splitViewController"),t.UI.TabViewController=e("yasmf/ui/tabViewController"),t.UI.Alert=e("yasmf/ui/alert"),t});var o=r("yasmf");"undefined"!=typeof module&&module.exports?module.exports=o:i?function(e){e(function(){return o})}(i):e._y=o}(this);